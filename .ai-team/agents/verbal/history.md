# Project Context

- **Owner:** Shayne Boyer (spboyer@live.com)
- **Project:** AI-powered slide presentation builder â€” Next.js web app with OpenAI-driven slide generation, persistent JSON storage in /presentations
- **Stack:** Next.js 15, React 19, TypeScript, Tailwind CSS, OpenAI API
- **Created:** 2026-02-10

## Learnings

<!-- Append new learnings below. Each entry is something lasting about the project. -->
- **2026-02-10 â€” Issue #2 (slide viewer/nav):** Created `SlideViewer.tsx`, `SlideNav.tsx`, and `presentation/[slug]/page.tsx`. Tailwind v4 with `@import "tailwindcss"` works fine; `prose prose-invert` classes work without `@tailwindcss/typography` plugin in Tailwind v4. react-markdown v10 uses default export. Build passes cleanly with Next.js 16 + Turbopack.
- **2026-02-10 â€” Issues #3, #5, #6 (editor, slide mgmt, landing page):** Created `PresentationList.tsx` (landing page grid with fetch/delete), `SlideEditor.tsx` (side-by-side edit + live preview), `SlideManager.tsx` (sidebar with reorder/delete). Rewrote `page.tsx` landing to use `PresentationList`. Rewrote `presentation/[slug]/page.tsx` to fetch real data from API, integrate editor toggle, slide manager sidebar, and auto-save via PUT. Next.js 16 `useParams` returns the params object directly (no `use()` needed). Build passes cleanly.

ðŸ“Œ Team update (2026-02-10): CRUD API (#8) and AI generation API (#7) are complete â€” use `getOpenAIClient()` factory, slugs max 40 chars, `await params` for Next.js 16 dynamic routes â€” decided by McManus
- **2026-02-10 â€” Issues #1, #4 (AI chat sidebar, add slides):** Created `PresentationChat.tsx` (collapsible right-side chat panel with message history, loading states, auto-scroll). Updated `SlideNav.tsx` with optional `onAddSlide`/`onAddBlank` callbacks and buttons. Rewrote `presentation/[slug]/page.tsx` to handle `/presentation/new` route (chat open by default, creates presentation via POST on first generation, replaces URL with real slug). Existing presentations get AI Chat toggle, "AI Slide" (calls generate with numSlides=1), and "Blank" add buttons in nav bar. All state changes auto-save via PUT. Build passes cleanly.

ðŸ“Œ Team update (2026-02-10): Vitest installed with 23 passing tests â€” `npm run test` available, covers types, CRUD, slugs, API exports, security â€” decided by Fenster
- **2026-02-10 â€” Issue #15 (RevealSlideshow component):** Created `RevealSlideshow.tsx` â€” a `forwardRef` client component wrapping reveal.js 5.x. Dynamic import of reveal.js in `useEffect` (requires browser globals). Theme and base CSS loaded via injected `<link>` tags from jsDelivr CDN (not static imports â€” CSS imports from `node_modules` don't work in Next.js dynamic imports). Created `src/types/reveal.d.ts` for reveal.js type declarations since the package ships no `.d.ts`. Exposed `RevealSlideshowRef` API (`goToSlide`, `next`, `prev`, `getIndices`, `toggleOverview`). Slide content auto-detects HTML vs plain text. Proper cleanup via `deck.destroy()` on unmount. Build passes cleanly. PR #26.
- **2026-02-10 â€” Issues #16, #17 (RevealSlideshow integration + ThemePicker):** Replaced `SlideViewer` with `RevealSlideshow` in `presentation/[slug]/page.tsx`. Created `ThemePicker.tsx` â€” a dropdown grid component using `<details>` for the 11 reveal.js themes from `src/lib/reveal-themes.ts`, with color preview swatches. Theme changes persist via PUT API and RevealSlideshow re-renders instantly via its CSS-swap effect. Wired `onSlideChange` callback to sync `currentSlideIndex` with reveal.js `slidechanged` event. SlideNav `onPrevious`/`onNext` now call `revealRef.current?.prev()/next()` for reveal.js navigation. SlideManager `onSelect` calls `goToSlide()`. Added fullscreen toggle, overview button, and speaker notes hint to top bar. Keyboard coordination: SlideNav skips arrow key handling when reveal.js container is focused (`keyboardCondition: "focused"`). Build passes cleanly. PR #28.
ðŸ“Œ Team update (2026-02-10): Never include secrets in GitHub issues, PRs, or repo content â€” directive by Shayne Boyer
ðŸ“Œ Team update (2026-02-10): Always update docs, tests, and agents.md when making changes â€” directive by Shayne Boyer
